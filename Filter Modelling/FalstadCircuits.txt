#############################################################
#                Falstad Circuit Simulations                #
#############################################################

####################### INSTRUCTIONS ########################
1. Copy circuit data for circuit of interest
2. Go to https://www.falstad.com/circuit/
3. Click File > Import From Text...
3. Paste circuit data for circuit of interest
#############################################################

#################### HIPASS FILTER TEST #####################
$ 1 0.000005 40.34287934927352 54 5 50 5e-11
v 48 304 48 192 0 1 100 1 0 0 0.5
c 48 192 128 192 0 0.000001 0.13639864209094632 0.001
c 128 192 208 192 0 0.000001 -0.8918319447549268 0.001
r 128 192 128 96 0 2000
r 208 192 208 304 0 2000
w 128 96 400 96 0
w 400 96 400 208 0
w 240 192 208 192 0
g 48 304 48 336 0 0
g 208 304 208 336 0 0
r 240 272 400 272 0 1000
a 240 208 400 208 9 15 -15 1000000 -0.21544447962595595 -0.21544878851554844 100000
w 240 224 240 272 0
w 400 208 400 272 0
r 240 272 240 320 0 1000
g 240 320 240 336 0 0
o 0 64 0 4099 2.5 0.00078125 0 2 0 3
o 4 64 0 4099 5 0.0015625 1 2 4 3
o 13 64 0 4099 10 0.003125 2 2 13 3
#############################################################

################### BANDPASS FILTER TEST ####################
$ 1 0.000005 3.452441195350251 50 5 50 5e-11
r 80 64 80 224 0 1000
c 80 224 80 384 0 3.41e-7 1.385794645969738 0.001
w 80 224 176 224 0
w 176 256 176 304 0
r 176 304 304 304 0 1000
r 176 304 176 384 0 1000
g 80 384 80 400 0 0
g 176 384 176 400 0 0
w 304 304 304 240 0
c 464 32 464 112 0 1.5e-8 -0.6358559461131109 0.001
a 464 240 352 240 8 15 -15 1000000 0.5648259617921431 0.5648372583113789 100000
r 464 112 464 160 0 100000
w 352 240 352 160 0
w 352 160 464 160 0
c 464 256 560 256 0 1.5e-8 -0.7917632595696654 0.001
r 464 256 464 384 0 100000
g 464 384 464 400 0 0
w 464 112 560 112 0
w 560 112 560 256 0
r 464 160 464 224 0 1000
r 464 224 528 224 0 1000
g 528 224 528 160 0 0
v 464 32 464 -32 0 1 100 1 0 0 0.5
g 464 -32 464 -64 0 0
w 352 160 352 64 0
w 352 64 80 64 0
a 176 240 304 240 9 15 -15 1000000 1.3857669306311253 1.385794645969738 100000
o 22 64 0 4099 5 0.00009765625 0 2 22 3
o 12 64 0 4099 5 0.003125 1 2 12 3
o 8 64 0 4099 5 0.003125 2 2 8 3
#############################################################

################ BANDPASS & RECTIFIER TEST 1 ################
$ 1 0.000005 10.20027730826997 50 5 50 5e-11
r 80 64 80 224 0 1000
c 80 224 80 384 0 3.41e-7 0.009454239396067845 0.001
w 80 224 176 224 0
w 176 256 176 304 0
r 176 304 304 304 0 1000
r 176 304 176 384 0 1000
g 80 384 80 400 0 0
g 176 384 176 400 0 0
w 304 304 304 240 0
c 464 32 464 112 0 1.5e-8 -1.9170928930420068 0.001
a 464 240 352 240 8 5 0 1000000 -0.000017063673179161814 -0.34131552725641545 100000
r 464 112 464 160 0 100000
w 352 240 352 160 0
c 464 256 560 256 0 1.5e-8 -0.2637968483843014 0.001
r 464 256 464 384 0 100000
g 464 384 464 400 0 0
w 464 112 560 112 0
w 560 112 560 256 0
r 464 160 464 224 0 1000
r 464 224 528 224 0 1000
g 528 224 528 160 0 0
w 352 160 352 64 0
w 352 64 80 64 0
a 176 240 304 240 9 5 0 1000000 0.009479049815071543 0.009454239396067845 100000
w 464 160 352 160 0
r 240 -192 240 -16 0 20000
w 240 -192 288 -192 0
w 400 -256 400 -176 0
r 288 -256 400 -256 0 20000
w 288 -192 288 -256 0
g 288 -112 288 -96 0 0
w 288 -160 288 -112 0
w 176 -192 208 -192 0
w -80 -16 240 -16 0
w -80 -160 -80 -16 0
a 288 -176 400 -176 8 15 -15 1000000 0.0000199463151802984 0 100000
r 208 -192 240 -192 0 10000
w -16 -240 -16 -160 0
w 112 -240 176 -240 0
w 112 -240 -16 -240 0
r 176 -192 176 -240 0 10000
w 112 -144 176 -144 0
w 64 -144 112 -144 0
d 176 -144 176 -192 2 default
d 112 -240 112 -144 2 default
g -16 -80 -16 -48 0 0
w -16 -128 -16 -80 0
a -16 -144 64 -144 8 15 -15 1000000 0.0000036523587794225615 0 100000
r -80 -160 -16 -160 0 10000
g -80 -224 -80 -256 0 0
v -80 -224 -80 -160 0 1 130 2 0 0 0.5
w 400 -176 464 -176 0
w 464 -176 464 -128 0
a 480 -112 640 -112 9 15 -15 1000000 -1.9946115719141209 -1.99463151802984 100000
w 464 -128 480 -128 0
w 480 -96 480 -48 0
w 480 -48 640 -48 0
w 640 -48 640 -112 0
w 640 -112 688 -112 0
w 688 -112 688 0 0
w 688 0 464 0 0
w 464 0 464 32 0
o 12 64 0 4099 2.5 0.003125 0 2 12 3
o 8 64 0 4099 5 0.003125 1 2 8 3
o 50 64 0 4099 5 0.00078125 2 2 50 3
#############################################################

################ BANDPASS & RECTIFIER TEST 2 ################
NOTE: Rectifier based on https://www.ti.com/lit/an/sboa296/sboa296.pdf?ts=1689725405231

$ 1 0.000005 11.086722712598126 50 5 50 5e-11
r -272 80 -272 240 0 1000
c -272 240 -272 400 0 3.41e-7 0.9096180666600646 0.001
g -272 400 -272 416 0 0
a 112 256 0 256 8 5 0 1000000 0.30913186801688897 0.30911305065424927 100000
w 0 256 0 176 0
c 112 272 208 272 0 1.5e-8 -1.5949844815923333 0.001
r 112 272 112 400 0 100000
g 544 288 544 304 0 0
w 688 112 688 208 0
r 0 176 112 176 0 1000
w 0 176 0 80 0
w 0 80 -272 80 0
w 112 176 112 240 0
g 688 48 688 16 0 0
v 688 48 688 112 0 1 100 2 0 0 0.5
w -272 240 -208 240 0
r 112 176 112 128 0 1000
g 112 128 112 96 0 0
a 544 272 432 272 8 5 0 1000000 0.000020180948719658765 0 100000
r 544 208 624 208 0 1000
g 112 400 112 416 0 0
d 432 208 544 208 2 default
a 544 128 432 128 8 5 0 1000000 0.000026139973397192943 0.000020180948719658765 100000
w 432 272 432 208 0
w 208 128 208 272 0
w 544 144 544 208 0
w 544 208 544 256 0
w 624 112 688 112 0
w 688 208 624 208 0
w 544 112 544 64 0
w 432 64 432 128 0
w 432 128 208 128 0
r 624 112 544 112 0 1000
r 544 64 432 64 0 1000
o 14 64 0 4099 5 0.0125 0 2 14 3
o 15 64 0 4099 5 0.00009765625 1 2 15 3
o 6 64 0 4099 2.5 0.00009765625 2 2 6 3
o 4 64 0 4099 5 0.003125 3 2 4 3
o 24 64 0 4099 5 0.00009765625 4 2 24 3
#############################################################

##################### COMPLETE CIRCUIT ######################
$ 1 0.000005 10.20027730826997 50 5 50 5e-11
r 80 64 80 224 0 1000
c 80 224 80 384 0 3.41e-7 5.000072728538261 0.001
g 80 384 80 400 0 0
a 464 240 352 240 8 5 0 1000000 0.009980216768359957 0.8960147001601241 100000
w 352 240 352 160 0
c 464 256 560 256 0 0.000001 -1.0210288773426535 0.001
r 464 256 464 384 0 2000
g 464 384 464 400 0 0
w 560 112 560 256 0
r 352 160 464 160 0 1000000
w 352 160 352 64 0
w 352 64 80 64 0
w 464 160 464 224 0
g 560 48 560 16 0 0
v 560 48 560 112 0 1 100 2 0 0 0.5
w 80 224 144 224 0
r 464 160 464 112 0 2000
g 464 112 464 80 0 0
o 14 64 0 4099 5 0.003125 0 2 14 3
o 15 64 0 4099 10 0.00009765625 1 2 15 3
o 6 64 0 4099 5 0.003125 2 2 6 3
o 4 64 0 4099 10 0.00625 3 2 4 3
#############################################################